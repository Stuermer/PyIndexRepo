<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>pyindexrepo - PyIndexRepo</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "pyindexrepo";
        var mkdocs_page_input_path = "api_docs.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> PyIndexRepo
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">pyindexrepo</a>
    <ul class="current">
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">PyIndexRepo</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">API Reference</li>
      <li class="breadcrumb-item active">pyindexrepo</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="doc doc-object doc-module">



<a id="pyindexrepo.pyindexrepo"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.FormulaIndexData" class="doc doc-heading">
            <code>FormulaIndexData</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing formula-based index data.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>formula</code></b>
                  (<code>callable</code>)
              –
              <div class="doc-md-description">
                <p>A callable function that computes the refractive index (n) or extinction coefficient (k) for a given wavelength.</p>
              </div>
            </li>
            <li>
              <b><code>coefficients</code></b>
                  (<code><span title="numpy.array">array</span></code>)
              –
              <div class="doc-md-description">
                <p>An array of coefficients required by the formula function.</p>
              </div>
            </li>
            <li>
              <b><code>min_wl</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The minimum wavelength (in nm) for which the formula is valid. Default is negative infinity.</p>
              </div>
            </li>
            <li>
              <b><code>max_wl</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The maximum wavelength (in nm) for which the formula is valid. Default is positive infinity.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class FormulaIndexData:
    """
    A dataclass representing formula-based index data.

    Attributes:
        formula (callable): A callable function that computes the refractive index (n) or extinction coefficient (k) for a given wavelength.
        coefficients (np.array): An array of coefficients required by the formula function.
        min_wl (float, optional): The minimum wavelength (in nm) for which the formula is valid. Default is negative infinity.
        max_wl (float, optional): The maximum wavelength (in nm) for which the formula is valid. Default is positive infinity.
    """

    formula: callable
    coefficients: np.array
    min_wl: float = field(default=-np.inf)
    max_wl: float = field(default=np.inf)

    def __post_init__(self):
        self.coefficients = np.array(self.coefficients, dtype=float)

    def get_n_or_k(self, wavelength):
        if isinstance(wavelength, float) or isinstance(wavelength, np.ndarray):
            return self.formula(wavelength, self.coefficients)
        elif isinstance(wavelength, list):
            return self.formula(np.array(wavelength), self.coefficients)
        else:
            raise ValueError(f"The datatype {type(wavelength)} is not supported.")</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.Material" class="doc doc-heading">
            <code>Material</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing a material's properties.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.TabulatedIndexData" href="#pyindexrepo.pyindexrepo.TabulatedIndexData">TabulatedIndexData</a> | <a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.FormulaIndexData" href="#pyindexrepo.pyindexrepo.FormulaIndexData">FormulaIndexData</a> | None</code>)
              –
              <div class="doc-md-description">
                <p>The refractive index (n) data for the material.
It can be an instance of TabulatedIndexData or FormulaIndexData, or None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>k</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.TabulatedIndexData" href="#pyindexrepo.pyindexrepo.TabulatedIndexData">TabulatedIndexData</a> | <a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.FormulaIndexData" href="#pyindexrepo.pyindexrepo.FormulaIndexData">FormulaIndexData</a> | None</code>)
              –
              <div class="doc-md-description">
                <p>The extinction coefficient (k) data for the material.
It can be an instance of TabulatedIndexData or FormulaIndexData, or None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>specs</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Specs" href="#pyindexrepo.pyindexrepo.Specs">Specs</a> | None</code>)
              –
              <div class="doc-md-description">
                <p>An instance of the Specs dataclass representing material specifications.
None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>yaml_data</code></b>
                  (<code><span title="pyindexrepo.pyindexrepo.YAMLLibraryData">YAMLLibraryData</span></code>)
              –
              <div class="doc-md-description">
                <p>An instance of the YAMLLibraryData class representing YAML library data.
None if unspecified.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class Material:
    """
    A dataclass representing a material's properties.

    Attributes:
        n (TabulatedIndexData | FormulaIndexData | None, optional): The refractive index (n) data for the material.
            It can be an instance of TabulatedIndexData or FormulaIndexData, or None if unspecified.
        k (TabulatedIndexData | FormulaIndexData | None, optional): The extinction coefficient (k) data for the material.
            It can be an instance of TabulatedIndexData or FormulaIndexData, or None if unspecified.
        specs (Specs | None, optional): An instance of the Specs dataclass representing material specifications.
            None if unspecified.
        yaml_data (YAMLLibraryData, optional): An instance of the YAMLLibraryData class representing YAML library data.
            None if unspecified.
    """

    n: TabulatedIndexData | FormulaIndexData | None = field(default=None)
    k: TabulatedIndexData | FormulaIndexData | None = field(default=None)
    specs: Specs | None = field(default=None)
    yaml_data: YAMLLibraryData = field(default=None)

    def get_n(self, wavelength):
        if self.n is None:
            warnings.warn("No n data. Returning 0")
            return np.zeros_like(wavelength)
        return self.n.get_n_or_k(wavelength)

    def get_k(self, wavelength):
        if self.k is None:
            warnings.warn("No k data. Returning 0")
            return np.zeros_like(wavelength)
        return self.k.get_n_or_k(wavelength)

    def get_nk(self, wavelength):
        return self.get_n(wavelength), self.get_k(wavelength)

    def get_n_at_temperature(
        self, wavelength: float | np.ndarray, temperature: float, P: float = 0.10133
    ) -&gt; float | np.ndarray:
        assert self.specs.thermal_expansion is not None, (
            "There is no thermal dispersion formula available " "for this material"
        )
        if self.specs.wavelength_is_vacuum:
            n_abs = self.get_n(wavelength)
            return n_abs + self.specs.thermal_dispersion.delta_n_abs(
                n_abs,
                wavelength,
                temperature - self.specs.temperature,
                self.specs.thermal_dispersion.coefficients,
            )
        else:
            rel_wavelength = (
                wavelength
                * dispersion_formulas.n_air(wavelength, temperature, P)
                / dispersion_formulas.n_air(wavelength)
            )
            n_rel = self.get_n(rel_wavelength)
            n_abs = dispersion_formulas.relative_to_absolute(
                n_rel, rel_wavelength, self.specs.temperature, 0.10133
            )
            n_abs += self.specs.thermal_dispersion.delta_n_abs(
                n_abs,
                rel_wavelength,
                temperature - self.specs.temperature,
                *self.specs.thermal_dispersion.coefficients,
            )
            return dispersion_formulas.absolute_to_relative(
                n_abs, rel_wavelength, temperature, P
            )

    def __str__(self):
        return self.yaml_data.name

    def __repr__(self):
        return self.yaml_data.name</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.RefractiveIndexLibrary" class="doc doc-heading">
            <code>RefractiveIndexLibrary</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>The dataclass representing the refractive index library using data from RefractiveIndex.info.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>path_to_library</code></b>
                  (<code><span title="pathlib.Path">Path</span></code>)
              –
              <div class="doc-md-description">
                <p>The path to the refractive index library YAML file.
Default is a path pointing to a default library file.</p>
              </div>
            </li>
            <li>
              <b><code>auto_upgrade</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Automatically upgrade the library when initialized if set to True.
Default is False.</p>
              </div>
            </li>
            <li>
              <b><code>force_upgrade</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Forcefully upgrade the library even if not necessary if set to True.
Default is False.</p>
              </div>
            </li>
            <li>
              <b><code>materials_yaml</code></b>
                  (<code>(<span title="typing.List">List</span>[<span title="pyindexrepo.pyindexrepo.YAMLLibraryData">YAMLLibraryData</span>], read - only)</code>)
              –
              <div class="doc-md-description">
                <p>A list of YAML library data instances representing materials.</p>
              </div>
            </li>
            <li>
              <b><code>materials_dict</code></b>
                  (<code>(Dict[str, Dict[str, Dict[str, <a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a>]]], read - only)</code>)
              –
              <div class="doc-md-description">
                <p>A dictionary of materials organized by catalog, category, and name.</p>
              </div>
            </li>
            <li>
              <b><code>materials_list</code></b>
                  (<code>(<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a>], read - only)</code>)
              –
              <div class="doc-md-description">
                <p>A list of all materials contained in the library.</p>
              </div>
            </li>
            <li>
              <b><code>github_sha</code></b>
                  (<code>(str, read - only)</code>)
              –
              <div class="doc-md-description">
                <p>The GitHub SHA corresponding to the version of the library data.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class RefractiveIndexLibrary:
    """
    The dataclass representing the refractive index library using data from RefractiveIndex.info.

    Attributes:
        path_to_library (Path, optional): The path to the refractive index library YAML file.
            Default is a path pointing to a default library file.
        auto_upgrade (bool, optional): Automatically upgrade the library when initialized if set to True.
            Default is False.
        force_upgrade (bool, optional): Forcefully upgrade the library even if not necessary if set to True.
            Default is False.
        materials_yaml (List[YAMLLibraryData], read-only): A list of YAML library data instances representing materials.
        materials_dict (Dict[str, Dict[str, Dict[str, Material]]], read-only): A dictionary of materials organized by catalog, category, and name.
        materials_list (List[Material], read-only): A list of all materials contained in the library.
        github_sha (str, read-only): The GitHub SHA corresponding to the version of the library data.
    """

    path_to_library: Path = field(
        default=Path(__file__)
        .absolute()
        .parent.parent.joinpath("database/catalog-nk.yml")
    )
    auto_upgrade: bool = field(default=False)
    force_upgrade: bool = field(default=False)
    materials_yaml: list[YAMLLibraryData] = field(default_factory=list, init=False)
    materials_dict: dict[str, dict[str, dict[str, Material]]] = field(
        default_factory=dict, init=False
    )
    materials_list: list[Material] = field(default_factory=list, init=False)
    github_sha: str = field(default="", init=False)

    def _is_library_outdated(self) -&gt; bool:
        """Checks if local library is outdated"""
        if self.path_to_library.parent.joinpath(".local_sha").exists():
            # get local commit hash
            with open(self.path_to_library.parent.joinpath(".local_sha"), "r") as file:
                local_sha = file.readline()
            # get current commit hash on GitHub
            try:
                self.github_sha = requests.get(
                    "https://api.github.com/repos/polyanskiy/refractiveindex.info-database/commits/master"
                ).json()["sha"]
            except KeyError:
                logger.warning(
                    "Couldn't get SHA commit hash on GitHub. Database can not be updated."
                )
                self.github_sha = ""
                return False
            return not (self.github_sha == local_sha)
        else:
            logger.info("No local library exists.")
            return True

    def _download_latest_commit(self) -&gt; bool:
        """Download latest library from GitHub."""
        if self._is_library_outdated() or self.force_upgrade:
            logger.info("New Library available... Downloading...")
            zip_url = "https://api.github.com/repos/polyanskiy/refractiveindex.info-database/zipball"
            response = requests.get(zip_url)

            with open(self.path_to_library.with_suffix(".zip"), "wb") as file:
                file.write(response.content)
            with zipfile.ZipFile(self.path_to_library.with_suffix(".zip"), "r") as file:
                file_list = file.namelist()
                subfolder_files = [
                    file
                    for file in file_list
                    if file.startswith(f"{file_list[0]}database/data-nk")
                    and file.endswith(".yml")
                ]
                subfolder_files.append(f"{file_list[0]}database/catalog-nk.yml")
                for fn in subfolder_files:
                    logger.debug(fn)
                    # create a new Path object for the file to extract
                    extract_path = self.path_to_library.parent / Path(
                        "/".join(Path(fn).parts[2:])
                    )
                    extract_path.parent.mkdir(parents=True, exist_ok=True)
                    # open the file in the zipfile and write it to disk
                    with file.open(fn) as zf, extract_path.open("wb") as of:
                        of.write(zf.read())

            with open(self.path_to_library.parent.joinpath(".local_sha"), "w") as file:
                file.write(self.github_sha)
            return True
        else:
            return False

    def _load_from_yaml(self):
        logger.info("load from yaml")
        with open(self.path_to_library) as f:
            yaml_data = yaml.safe_load(f)

        for s in yaml_data:
            for book in s["content"]:
                if "BOOK" in book:
                    for page in book["content"]:
                        if "PAGE" in page:
                            # fill yaml list
                            self.materials_yaml.append(
                                YAMLLibraryData(
                                    name=page["name"],
                                    lib_page=page["PAGE"],
                                    lib_book=book["BOOK"],
                                    lib_shelf=s["SHELF"],
                                    lib_data=page["data"],
                                    lib_path=self.path_to_library.parent.joinpath(
                                        "data-nk"
                                    ).joinpath(page["data"]),
                                )
                            )

    def _convert_to_material_dict(self):
        for m in self.materials_yaml:
            # fill materials dict
            if m.lib_shelf in self.materials_dict:
                if m.lib_book in self.materials_dict[m.lib_shelf]:
                    self.materials_dict[m.lib_shelf][m.lib_book].update(
                        {
                            m.lib_page: yaml_to_material(
                                self.path_to_library.parent.joinpath(
                                    "data-nk"
                                ).joinpath(m.lib_data),
                                m.lib_shelf,
                                m.lib_book,
                                m.lib_page,
                                m.name,
                            )
                        }
                    )
                else:
                    self.materials_dict[m.lib_shelf][m.lib_book] = {
                        m.lib_page: yaml_to_material(
                            self.path_to_library.parent.joinpath("data-nk").joinpath(
                                m.lib_data
                            ),
                            m.lib_shelf,
                            m.lib_book,
                            m.lib_page,
                            m.name,
                        )
                    }
            else:
                self.materials_dict[m.lib_shelf] = {
                    m.lib_book: {
                        m.lib_page: yaml_to_material(
                            self.path_to_library.parent.joinpath("data-nk").joinpath(
                                m.lib_data
                            ),
                            m.lib_shelf,
                            m.lib_book,
                            m.lib_page,
                            m.name,
                        )
                    }
                }

            self.materials_list.append(
                self.materials_dict[m.lib_shelf][m.lib_book][m.lib_page]
            )

        with open(self.path_to_library.with_suffix(".pickle"), "wb") as f:
            pickle.dump(self.materials_yaml, f, pickle.HIGHEST_PROTOCOL)
        with open(self.path_to_library.with_suffix(".pickle2"), "wb") as f:
            pickle.dump(self.materials_dict, f, pickle.HIGHEST_PROTOCOL)

    def _load_from_pickle(self):
        logger.info("load from pickle")
        t1 = time.time()
        with open(self.path_to_library.with_suffix(".pickle"), "rb") as f:
            self.materials_yaml = pickle.load(f)
        with open(self.path_to_library.with_suffix(".pickle2"), "rb") as f:
            self.materials_dict = pickle.load(f)

        for sd in self.materials_dict.values():
            for bd in sd.values():
                for mat in bd.values():
                    self.materials_list.append(mat)
        logger.info(f"... done after{t1-time.time()}s")

    def __post_init__(self):
        upgraded = False
        # create database folder if it doesn't exist
        if not self.path_to_library.parent.is_dir():
            self.path_to_library.parent.mkdir()
        if self.auto_upgrade or self.force_upgrade:
            upgraded = self._download_latest_commit()
        if self.path_to_library.exists():
            if self.path_to_library.with_suffix(".pickle").exists() and not upgraded:
                self._load_from_pickle()
            else:
                self._load_from_yaml()
                self._convert_to_material_dict()
        else:
            warnings.warn(
                "Path to library does not exist! Please check path or activate auto_upgrade to download."
            )

    def search_material_by_page_name(
        self, page_name: str, exact_match: bool = False
    ) -&gt; Material | list[Material] | None:
        """Search Material by name

        Search a Material by page name as given at refractiveindex.info.
        Sometimes, the name is not unique, so the function returns either a single Material or a list of Materials
        or None if it doesn't find a match.

        Args:
            page_name:
            exact_match:

        Returns:
            Material or list of Materials matching the Name

        Examples:
            &gt;&gt;&gt; db = RefractiveIndexLibrary()
            &gt;&gt;&gt; bk7 = db.search_material_by_page_name('N-BK7')[0]  # returns a list of different BK7 glasses
            &gt;&gt;&gt; print(bk7.get_n(0.5875618))
            1.5168000345005885
        """
        materials = []
        if exact_match:
            for m in self.materials_list:
                if page_name == m.yaml_data.name:
                    materials.append(m)
        else:
            for m in self.materials_list:
                if page_name in m.yaml_data.name:
                    materials.append(m)
        return (
            materials[0]
            if len(materials) == 1
            else materials if len(materials) &gt; 1 else None
        )

    def search_material_by_n(
        self,
        n: float,
        wl: float = 0.5875618,
        filter_shelf: str | None = None,
        filter_book: str | None = None,
    ) -&gt; list[Material]:
        """Search Material by refractive index

        Look for a material with a specific refractive index at a certain wavelength.
        In return, you get a sorted list of materials with index [0] being the closest to input n.

        Args:
            n: refractive index
            wl: wavelength
            filter_shelf: if given, only materials containing this string in their shelf name are considered
            filter_book: if given, only materials containing this string in their book name are considered

        Examples:
            &gt;&gt;&gt; db = RefractiveIndexLibrary()
            &gt;&gt;&gt; # get 3 closest OHARA glasses with n=1.5 at 0.55microns:
            &gt;&gt;&gt; materials = db.search_material_by_n(1.5, wl=0.55, filter_book="ohara")[:3]
            &gt;&gt;&gt; print(materials[0].yaml_data.name, materials[0].get_n(0.55))
            BSL3 1.4999474387027893
            &gt;&gt;&gt; print(materials[1].yaml_data.name, materials[1].get_n(0.55))
            S-FPL51Y 1.498313496038896
            &gt;&gt;&gt; print(materials[2].yaml_data.name, materials[2].get_n(0.55))
            S-FPL51 1.498303051383454

        Returns:
            sorted list of materials matching search criteria

        """
        materials = []
        materials_n_distance = []
        for shelf_m, d in self.materials_dict.items():
            if not (shelf_m == filter_shelf or filter_shelf is None):
                continue
            for book_name, book_m in d.items():
                if filter_book is not None:
                    if filter_book.lower() not in book_name.lower():
                        continue

                for mat in book_m.values():
                    materials.append(mat)
                    try:
                        materials_n_distance.append(abs(mat.get_n(wl) - n))
                    except ValueError:
                        materials_n_distance.append(99)

        return [
            x
            for _, x in sorted(
                zip(materials_n_distance, materials), key=lambda pair: pair[0]
            )
        ]

    def get_material(self, shelf: str, book: str, page: str) -&gt; Material:
        """Get Material by shelf, book, page name

        Select Material by specifying shelf, book and page as given on refractiveindex.info

        Args:
            shelf: shelf name
            book: book name
            page: page name

        Returns:
            Material object

        Examples:
            &gt;&gt;&gt; db = RefractiveIndexLibrary()
            &gt;&gt;&gt; bk7 = db.get_material("glass", "SCHOTT-BK", "N-BK7")
            &gt;&gt;&gt; print(bk7.get_n(0.5875618))
            1.5168000345005885
        """
        return self.materials_dict[shelf][book][page]

    def get_material_by_path(self, yaml_path: str) -&gt; Material:
        """Get material by path

        Args:
            yaml_path: path as shown on refractive index when hovered over 'CSV - comma separated data'

        Returns:
            Material object
        """
        mat_found = [
            m
            for m in self.materials_list
            if str(m.yaml_data.lib_path).lower().endswith(yaml_path.lower() + ".yml")
        ]
        return mat_found[0] if mat_found else None</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyindexrepo.pyindexrepo.RefractiveIndexLibrary.get_material" class="doc doc-heading">
            <code class="highlight language-python">get_material(shelf, book, page)</code>

</h3>


    <div class="doc doc-contents ">

        <p>Get Material by shelf, book, page name</p>
<p>Select Material by specifying shelf, book and page as given on refractiveindex.info</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>shelf</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>shelf name</p>
              </div>
            </li>
            <li>
              <b><code>book</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>book name</p>
              </div>
            </li>
            <li>
              <b><code>page</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>page name</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a></code>
              –
              <div class="doc-md-description">
                <p>Material object</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<p><span class="doc-section-title">Examples:</span></p>
    <pre class="highlight"><code class="language-pycon">&gt;&gt;&gt; db = RefractiveIndexLibrary()
&gt;&gt;&gt; bk7 = db.get_material("glass", "SCHOTT-BK", "N-BK7")
&gt;&gt;&gt; print(bk7.get_n(0.5875618))
1.5168000345005885</code></pre>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_material(self, shelf: str, book: str, page: str) -&gt; Material:
    """Get Material by shelf, book, page name

    Select Material by specifying shelf, book and page as given on refractiveindex.info

    Args:
        shelf: shelf name
        book: book name
        page: page name

    Returns:
        Material object

    Examples:
        &gt;&gt;&gt; db = RefractiveIndexLibrary()
        &gt;&gt;&gt; bk7 = db.get_material("glass", "SCHOTT-BK", "N-BK7")
        &gt;&gt;&gt; print(bk7.get_n(0.5875618))
        1.5168000345005885
    """
    return self.materials_dict[shelf][book][page]</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyindexrepo.pyindexrepo.RefractiveIndexLibrary.get_material_by_path" class="doc doc-heading">
            <code class="highlight language-python">get_material_by_path(yaml_path)</code>

</h3>


    <div class="doc doc-contents ">

        <p>Get material by path</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>yaml_path</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>path as shown on refractive index when hovered over 'CSV - comma separated data'</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a></code>
              –
              <div class="doc-md-description">
                <p>Material object</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_material_by_path(self, yaml_path: str) -&gt; Material:
    """Get material by path

    Args:
        yaml_path: path as shown on refractive index when hovered over 'CSV - comma separated data'

    Returns:
        Material object
    """
    mat_found = [
        m
        for m in self.materials_list
        if str(m.yaml_data.lib_path).lower().endswith(yaml_path.lower() + ".yml")
    ]
    return mat_found[0] if mat_found else None</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyindexrepo.pyindexrepo.RefractiveIndexLibrary.search_material_by_n" class="doc doc-heading">
            <code class="highlight language-python">search_material_by_n(n, wl=0.5875618, filter_shelf=None, filter_book=None)</code>

</h3>


    <div class="doc doc-contents ">

        <p>Search Material by refractive index</p>
<p>Look for a material with a specific refractive index at a certain wavelength.
In return, you get a sorted list of materials with index [0] being the closest to input n.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>refractive index</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float</code>, default:
                      <code>0.5875618</code>
)
              –
              <div class="doc-md-description">
                <p>wavelength</p>
              </div>
            </li>
            <li>
              <b><code>filter_shelf</code></b>
                  (<code>str | None</code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>if given, only materials containing this string in their shelf name are considered</p>
              </div>
            </li>
            <li>
              <b><code>filter_book</code></b>
                  (<code>str | None</code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>if given, only materials containing this string in their book name are considered</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<p><span class="doc-section-title">Examples:</span></p>
    <pre class="highlight"><code class="language-pycon">&gt;&gt;&gt; db = RefractiveIndexLibrary()
&gt;&gt;&gt; # get 3 closest OHARA glasses with n=1.5 at 0.55microns:
&gt;&gt;&gt; materials = db.search_material_by_n(1.5, wl=0.55, filter_book="ohara")[:3]
&gt;&gt;&gt; print(materials[0].yaml_data.name, materials[0].get_n(0.55))
BSL3 1.4999474387027893
&gt;&gt;&gt; print(materials[1].yaml_data.name, materials[1].get_n(0.55))
S-FPL51Y 1.498313496038896
&gt;&gt;&gt; print(materials[2].yaml_data.name, materials[2].get_n(0.55))
S-FPL51 1.498303051383454</code></pre>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>list[<a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a>]</code>
              –
              <div class="doc-md-description">
                <p>sorted list of materials matching search criteria</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def search_material_by_n(
    self,
    n: float,
    wl: float = 0.5875618,
    filter_shelf: str | None = None,
    filter_book: str | None = None,
) -&gt; list[Material]:
    """Search Material by refractive index

    Look for a material with a specific refractive index at a certain wavelength.
    In return, you get a sorted list of materials with index [0] being the closest to input n.

    Args:
        n: refractive index
        wl: wavelength
        filter_shelf: if given, only materials containing this string in their shelf name are considered
        filter_book: if given, only materials containing this string in their book name are considered

    Examples:
        &gt;&gt;&gt; db = RefractiveIndexLibrary()
        &gt;&gt;&gt; # get 3 closest OHARA glasses with n=1.5 at 0.55microns:
        &gt;&gt;&gt; materials = db.search_material_by_n(1.5, wl=0.55, filter_book="ohara")[:3]
        &gt;&gt;&gt; print(materials[0].yaml_data.name, materials[0].get_n(0.55))
        BSL3 1.4999474387027893
        &gt;&gt;&gt; print(materials[1].yaml_data.name, materials[1].get_n(0.55))
        S-FPL51Y 1.498313496038896
        &gt;&gt;&gt; print(materials[2].yaml_data.name, materials[2].get_n(0.55))
        S-FPL51 1.498303051383454

    Returns:
        sorted list of materials matching search criteria

    """
    materials = []
    materials_n_distance = []
    for shelf_m, d in self.materials_dict.items():
        if not (shelf_m == filter_shelf or filter_shelf is None):
            continue
        for book_name, book_m in d.items():
            if filter_book is not None:
                if filter_book.lower() not in book_name.lower():
                    continue

            for mat in book_m.values():
                materials.append(mat)
                try:
                    materials_n_distance.append(abs(mat.get_n(wl) - n))
                except ValueError:
                    materials_n_distance.append(99)

    return [
        x
        for _, x in sorted(
            zip(materials_n_distance, materials), key=lambda pair: pair[0]
        )
    ]</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyindexrepo.pyindexrepo.RefractiveIndexLibrary.search_material_by_page_name" class="doc doc-heading">
            <code class="highlight language-python">search_material_by_page_name(page_name, exact_match=False)</code>

</h3>


    <div class="doc doc-contents ">

        <p>Search Material by name</p>
<p>Search a Material by page name as given at refractiveindex.info.
Sometimes, the name is not unique, so the function returns either a single Material or a list of Materials
or None if it doesn't find a match.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>page_name</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                
              </div>
            </li>
            <li>
              <b><code>exact_match</code></b>
                  (<code>bool</code>, default:
                      <code>False</code>
)
              –
              <div class="doc-md-description">
                
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a> | list[<a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a>] | None</code>
              –
              <div class="doc-md-description">
                <p>Material or list of Materials matching the Name</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<p><span class="doc-section-title">Examples:</span></p>
    <pre class="highlight"><code class="language-pycon">&gt;&gt;&gt; db = RefractiveIndexLibrary()
&gt;&gt;&gt; bk7 = db.search_material_by_page_name('N-BK7')[0]  # returns a list of different BK7 glasses
&gt;&gt;&gt; print(bk7.get_n(0.5875618))
1.5168000345005885</code></pre>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def search_material_by_page_name(
    self, page_name: str, exact_match: bool = False
) -&gt; Material | list[Material] | None:
    """Search Material by name

    Search a Material by page name as given at refractiveindex.info.
    Sometimes, the name is not unique, so the function returns either a single Material or a list of Materials
    or None if it doesn't find a match.

    Args:
        page_name:
        exact_match:

    Returns:
        Material or list of Materials matching the Name

    Examples:
        &gt;&gt;&gt; db = RefractiveIndexLibrary()
        &gt;&gt;&gt; bk7 = db.search_material_by_page_name('N-BK7')[0]  # returns a list of different BK7 glasses
        &gt;&gt;&gt; print(bk7.get_n(0.5875618))
        1.5168000345005885
    """
    materials = []
    if exact_match:
        for m in self.materials_list:
            if page_name == m.yaml_data.name:
                materials.append(m)
    else:
        for m in self.materials_list:
            if page_name in m.yaml_data.name:
                materials.append(m)
    return (
        materials[0]
        if len(materials) == 1
        else materials if len(materials) &gt; 1 else None
    )</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.Specs" class="doc doc-heading">
            <code>Specs</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing material specifications.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_is_absolute</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Indicates whether the refractive index is given in absolute units.
True if it is, False if not, and None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>wavelength_is_vacuum</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Specifies whether the wavelength is given in vacuum.
True if it is, False if not, and None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>temperature</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The temperature of the material in degrees Celsius. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>thermal_dispersion</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.ThermalDispersion" href="#pyindexrepo.pyindexrepo.ThermalDispersion">ThermalDispersion</a></code>)
              –
              <div class="doc-md-description">
                <p>An instance of the ThermalDispersion class representing thermal dispersion information.
None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>nd</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The refractive index (n) of the material. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>Vd</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The Abbe number (Vd) of the material. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>glass_code</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The glass code associated with the material. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>glass_status</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The status or classification of the glass material as a string. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>density</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The density of the material. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>thermal_expansion</code></b>
                  (<code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.ThermalExpansion" href="#pyindexrepo.pyindexrepo.ThermalExpansion">ThermalExpansion</a>]</code>)
              –
              <div class="doc-md-description">
                <p>A list of instances of the ThermalExpansion class representing thermal expansion properties.
None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>climatic_resistance</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The material's resistance to climatic conditions. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>stain_resistance</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The material's resistance to staining. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>acid_resistance</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The material's resistance to acids. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>alkali_resistance</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The material's resistance to alkalis. None if unspecified.</p>
              </div>
            </li>
            <li>
              <b><code>phosphate_resistance</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>The material's resistance to phosphates. None if unspecified.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class Specs:
    """
    A dataclass representing material specifications.

    Attributes:
        n_is_absolute (bool, optional): Indicates whether the refractive index is given in absolute units.
            True if it is, False if not, and None if unspecified.
        wavelength_is_vacuum (bool, optional): Specifies whether the wavelength is given in vacuum.
            True if it is, False if not, and None if unspecified.
        temperature (float, optional): The temperature of the material in degrees Celsius. None if unspecified.
        thermal_dispersion (ThermalDispersion, optional): An instance of the ThermalDispersion class representing thermal dispersion information.
            None if unspecified.
        nd (float, optional): The refractive index (n) of the material. None if unspecified.
        Vd (float, optional): The Abbe number (Vd) of the material. None if unspecified.
        glass_code (float, optional): The glass code associated with the material. None if unspecified.
        glass_status (str, optional): The status or classification of the glass material as a string. None if unspecified.
        density (float, optional): The density of the material. None if unspecified.
        thermal_expansion (List[ThermalExpansion], optional): A list of instances of the ThermalExpansion class representing thermal expansion properties.
            None if unspecified.
        climatic_resistance (float, optional): The material's resistance to climatic conditions. None if unspecified.
        stain_resistance (float, optional): The material's resistance to staining. None if unspecified.
        acid_resistance (float, optional): The material's resistance to acids. None if unspecified.
        alkali_resistance (float, optional): The material's resistance to alkalis. None if unspecified.
        phosphate_resistance (float, optional): The material's resistance to phosphates. None if unspecified.
    """

    n_is_absolute: bool | None = None
    wavelength_is_vacuum: bool | None = None
    temperature: float | None = None
    thermal_dispersion: ThermalDispersion | None = None
    nd: float | None = None
    Vd: float | None = None
    glass_code: float | None = None
    glass_status: str | None = None
    density: float | None = None
    thermal_expansion: List[ThermalExpansion] | None = None
    climatic_resistance: float | None = None
    stain_resistance: float | None = None
    acid_resistance: float | None = None
    alkali_resistance: float | None = None
    phosphate_resistance: float | None = None

    @staticmethod
    def read_specs_from_yaml(specs_dict):
        # Parse ThermalDispersion objects
        thermal_dispersion_list = []
        if "thermal_dispersion" in specs_dict:
            for td_dict in specs_dict["thermal_dispersion"]:
                if td_dict.get("type") == "Schott formula":
                    td = ThermalDispersion(
                        formula_type=td_dict["type"],
                        coefficients=(
                            np.array(
                                [float(val) for val in td_dict["coefficients"].split()],
                                dtype=float,
                            )
                            if td_dict.get("coefficients")
                            else None
                        ),
                    )
                elif td_dict.get("type") == "dn/dT":
                    td = ThermalDispersion(
                        formula_type=td_dict["type"],
                        coefficients=float(td_dict["value"].split()[0]),
                    )
                else:
                    td = None
                    warning(
                        f"Thermal Dispersion formula {td_dict.get('type')} not implemented yet"
                    )
                thermal_dispersion_list.append(td)
        if len(thermal_dispersion_list) &gt; 1:
            warnings.warn(
                "There are multiple values given for the thermal dispersion. This is not supported at the moment."
            )

        # Parse TemperatureRange objects
        temperature_range_list = []
        if "thermal_expansion" in specs_dict:
            for tr_dict in specs_dict["thermal_expansion"]:
                if isinstance(tr_dict, dict):
                    if tr_dict.get("temperature_range"):
                        tr = TemperatureRange(
                            tr_dict["temperature_range"][0],
                            tr_dict["temperature_range"][1],
                        )
                    else:
                        tr = None
                else:
                    tr = None
                temperature_range_list.append(tr)
        temperature = specs_dict.get("temperature")
        if temperature is not None:
            if isinstance(temperature, str):
                # if in Kelvin, convert to Celsius
                if "K" in temperature:
                    temperature = float(temperature.split()[0]) - 273.15
                elif "C" in temperature:
                    temperature = float(temperature.split()[0])
                else:
                    temperature = float(temperature.split()[0]) - 273.15
                    warnings.warn(
                        "Temperature unit not recognized or given. Assuming Kelvin."
                    )
            elif isinstance(temperature, int):
                temperature = float(temperature)
            elif isinstance(temperature, float):
                pass
            else:
                warnings.warn(
                    f"Temperature is not a string or an integer/float. {temperature}"
                )
        # Create Specs dataclass instance
        specs = Specs(
            n_is_absolute=specs_dict.get("n_is_absolute"),
            wavelength_is_vacuum=specs_dict.get("wavelength_is_vacuum"),
            temperature=temperature,
            thermal_dispersion=(
                thermal_dispersion_list[0] if thermal_dispersion_list else None
            ),
            nd=specs_dict.get("nd"),
            Vd=specs_dict.get("Vd"),
            glass_code=specs_dict.get("glass_code"),
            glass_status=specs_dict.get("glass_status"),
            density=(
                float(specs_dict.get("density").replace(" g/cm&lt;sup&gt;3&lt;/sup&gt;", ""))
                if specs_dict.get("density")
                else None
            ),
            thermal_expansion=(
                [
                    ThermalExpansion(
                        temperature_range=tr,
                        coefficient=(
                            te_dict.get("coefficient") or te_dict.get("value")
                            if isinstance(te_dict, dict)
                            else None
                        ),
                    )
                    for tr, te_dict in zip(
                    temperature_range_list, specs_dict["thermal_expansion"]
                )
                ]
                if specs_dict.get("thermal_expansion")
                else None
            ),
            climatic_resistance=specs_dict.get("climatic_resistance"),
            stain_resistance=specs_dict.get("stain_resistance"),
            acid_resistance=specs_dict.get("acid_resistance"),
            alkali_resistance=specs_dict.get("alkali_resistance"),
            phosphate_resistance=specs_dict.get("phosphate_resistance"),
        )

        return specs

    def get_coefficient_of_thermal_expansion(self, temperature: float) -&gt; float:
        """Returns the coefficient of thermal expansion for a given temperature."""
        if self.thermal_expansion is not None:
            # sort by total temperature range and return coefficient for smallest range
            self.thermal_expansion.sort(
                key=lambda exp: exp.temperature_range.max - exp.temperature_range.min
            )
            for expansion in self.thermal_expansion:
                if (
                    expansion.temperature_range.min
                    &lt;= temperature
                    &lt;= expansion.temperature_range.max
                ):
                    return expansion.coefficient
            # if temperature is outside any temperature range, return the value for the closest temperature range
            self.thermal_expansion.sort(
                key=lambda exp, t: min(
                    abs(t - exp.temperature_range.max),
                    abs(t - exp.temperature_range.min),
                )
            )

            warnings.warn(
                "Temperature is outside any temperature range, returning closest value as coefficient"
            )
            return self.thermal_expansion[0].coefficient
        else:
            warnings.warn("No thermal expansion data. Returning 0.0")
            return 0.0</code></pre>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyindexrepo.pyindexrepo.Specs.get_coefficient_of_thermal_expansion" class="doc doc-heading">
            <code class="highlight language-python">get_coefficient_of_thermal_expansion(temperature)</code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the coefficient of thermal expansion for a given temperature.</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def get_coefficient_of_thermal_expansion(self, temperature: float) -&gt; float:
    """Returns the coefficient of thermal expansion for a given temperature."""
    if self.thermal_expansion is not None:
        # sort by total temperature range and return coefficient for smallest range
        self.thermal_expansion.sort(
            key=lambda exp: exp.temperature_range.max - exp.temperature_range.min
        )
        for expansion in self.thermal_expansion:
            if (
                expansion.temperature_range.min
                &lt;= temperature
                &lt;= expansion.temperature_range.max
            ):
                return expansion.coefficient
        # if temperature is outside any temperature range, return the value for the closest temperature range
        self.thermal_expansion.sort(
            key=lambda exp, t: min(
                abs(t - exp.temperature_range.max),
                abs(t - exp.temperature_range.min),
            )
        )

        warnings.warn(
            "Temperature is outside any temperature range, returning closest value as coefficient"
        )
        return self.thermal_expansion[0].coefficient
    else:
        warnings.warn("No thermal expansion data. Returning 0.0")
        return 0.0</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.TabulatedIndexData" class="doc doc-heading">
            <code>TabulatedIndexData</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing tabulated index data.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>wl</code></b>
                  (<code><span title="numpy.ndarray">ndarray</span> | list[float]</code>)
              –
              <div class="doc-md-description">
                <p>An array or list containing wavelength values (in nm).</p>
              </div>
            </li>
            <li>
              <b><code>n_or_k</code></b>
                  (<code><span title="numpy.ndarray">ndarray</span> | list[float]</code>)
              –
              <div class="doc-md-description">
                <p>An array or list containing refractive index (n) or extinction coefficient (k) values.</p>
              </div>
            </li>
            <li>
              <b><code>ip</code></b>
                  (<code>(callable, read - only)</code>)
              –
              <div class="doc-md-description">
                <p>A callable property to perform interpolation on the data.</p>
              </div>
            </li>
            <li>
              <b><code>use_interpolation</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Indicates whether to use interpolation when querying values.
True to use interpolation, False to disable interpolation. Default is True.</p>
              </div>
            </li>
            <li>
              <b><code>bounds_error</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Indicates whether to raise an error for out-of-bounds queries.
True to raise an error, False to suppress errors. Default is True.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class TabulatedIndexData:
    """
    A dataclass representing tabulated index data.

    Attributes:
        wl (np.ndarray | list[float]): An array or list containing wavelength values (in nm).
        n_or_k (np.ndarray | list[float]): An array or list containing refractive index (n) or extinction coefficient (k) values.
        ip (callable, read-only): A callable property to perform interpolation on the data.
        use_interpolation (bool, optional): Indicates whether to use interpolation when querying values.
            True to use interpolation, False to disable interpolation. Default is True.
        bounds_error (bool, optional): Indicates whether to raise an error for out-of-bounds queries.
            True to raise an error, False to suppress errors. Default is True.
    """

    wl: np.ndarray | list[float]
    n_or_k: np.ndarray | list[float]
    ip: callable = field(init=False)
    use_interpolation: bool = field(default=True)
    bounds_error: bool = field(default=True)

    def __post_init__(self):
        if self.use_interpolation:
            self.ip = interp1d(
                np.atleast_1d(self.wl),
                np.atleast_1d(self.n_or_k),
                bounds_error=self.bounds_error,
            )

    def get_n_or_k(self, wavelength):
        return self.ip(wavelength)</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.ThermalDispersion" class="doc doc-heading">
            <code>ThermalDispersion</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Thermal Dispersion</p>
<p>Deals with thermal dispersion of material. For a given formula_type and coefficients, delta_n_abs points to a
function that is called with the arguments (n_ref, wavelength, coefficients*), where n_ref is the
refractive index at reference temperature, wavelength the wavelength(s) value(s) and coefficients the array of the
thermal dispersion coefficients.
For speed reasons, the function delta_n_abs is outsourced to the dispersion_formulas.py file and speed up by numba.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>formula_type</code></b>
                  (<code>str | None</code>)
              –
              <div class="doc-md-description">
                <p>name of the formula. Supported are 'Schott formula'</p>
              </div>
            </li>
            <li>
              <b><code>coefficients</code></b>
                  (<code><span title="numpy.ndarray">ndarray</span> | float | None</code>)
              –
              <div class="doc-md-description">
                <p>array with thermal dispersion coefficients (lengths depends on formula type)</p>
              </div>
            </li>
            <li>
              <b><code>delta_n_abs</code></b>
                  (<code>callable</code>)
              –
              <div class="doc-md-description">
                <p>function called with the arguments (n_ref, wavelength, coefficients*)</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class ThermalDispersion:
    """Thermal Dispersion

    Deals with thermal dispersion of material. For a given formula_type and coefficients, delta_n_abs points to a
    function that is called with the arguments (n_ref, wavelength, coefficients*), where n_ref is the
    refractive index at reference temperature, wavelength the wavelength(s) value(s) and coefficients the array of the
    thermal dispersion coefficients.
    For speed reasons, the function delta_n_abs is outsourced to the dispersion_formulas.py file and speed up by numba.

    Attributes:
        formula_type: name of the formula. Supported are 'Schott formula'
        coefficients: array with thermal dispersion coefficients (lengths depends on formula type)
        delta_n_abs: function called with the arguments (n_ref, wavelength, coefficients*)

    """

    formula_type: str | None = None
    coefficients: np.ndarray | float | None = None
    delta_n_abs: callable = field(init=False)

    def __post_init__(self):
        if self.formula_type == "Schott formula":
            self.delta_n_abs = getattr(
                dispersion_formulas, "delta_absolute_temperature"
            )
        elif self.formula_type == "dn/dT":
            self.delta_n_abs = getattr(
                dispersion_formulas, "n_absolute_with_given_dndt"
            )
        else:
            logger.warning("Thermal Dispersion formula not implemented yet")</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.ThermalExpansion" class="doc doc-heading">
            <code>ThermalExpansion</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Thermal expansion
Deals with thermal expansion of the material.
Attributes:
    temperature_range: temperature range where thermal expansion coefficient is considered valid
    coefficient: thermal expansion coefficient [1/K]</p>






              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class ThermalExpansion:
    """Thermal expansion
    Deals with thermal expansion of the material.
    Attributes:
        temperature_range: temperature range where thermal expansion coefficient is considered valid
        coefficient: thermal expansion coefficient [1/K]
    """

    temperature_range: TemperatureRange
    coefficient: float</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.YAMLMaterialData" class="doc doc-heading">
            <code>YAMLMaterialData</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing material data in YAML format.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_data</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.YAMLRefractiveIndexData" href="#pyindexrepo.pyindexrepo.YAMLRefractiveIndexData">YAMLRefractiveIndexData</a></code>)
              –
              <div class="doc-md-description">
                <p>An instance of YAMLRefractiveIndexData containing refractive index (n) data.</p>
              </div>
            </li>
            <li>
              <b><code>k_data</code></b>
                  (<code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.YAMLRefractiveIndexData" href="#pyindexrepo.pyindexrepo.YAMLRefractiveIndexData">YAMLRefractiveIndexData</a></code>)
              –
              <div class="doc-md-description">
                <p>An instance of YAMLRefractiveIndexData containing extinction coefficient (k) data.</p>
              </div>
            </li>
            <li>
              <b><code>comments</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>Additional comments or notes related to the material data.
Default is an empty string, indicating no comments.</p>
              </div>
            </li>
            <li>
              <b><code>references</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>References or sources of information for the material data.
Default is an empty string, indicating no references.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class YAMLMaterialData:
    """
    A dataclass representing material data in YAML format.

    Attributes:
        n_data (YAMLRefractiveIndexData): An instance of YAMLRefractiveIndexData containing refractive index (n) data.
        k_data (YAMLRefractiveIndexData): An instance of YAMLRefractiveIndexData containing extinction coefficient (k) data.
        comments (str, optional): Additional comments or notes related to the material data.
            Default is an empty string, indicating no comments.
        references (str, optional): References or sources of information for the material data.
            Default is an empty string, indicating no references.
    """

    n_data: YAMLRefractiveIndexData
    k_data: YAMLRefractiveIndexData
    comments: str = field(default="")
    references: str = field(default="")</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pyindexrepo.pyindexrepo.YAMLRefractiveIndexData" class="doc doc-heading">
            <code>YAMLRefractiveIndexData</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>A dataclass representing refractive index data in YAML format.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Attributes:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>data_type</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The type of refractive index data, such as 'tabulated', 'formula', etc.</p>
              </div>
            </li>
            <li>
              <b><code>wavelength_range</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The range of wavelengths for which the data is valid.
Default is an empty string, indicating unspecified range.</p>
              </div>
            </li>
            <li>
              <b><code>coefficients</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>A string containing coefficients or formula details for formula-based data.
Default is an empty string, indicating unspecified coefficients.</p>
              </div>
            </li>
            <li>
              <b><code>data</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>A string containing the actual data in YAML format.
Default is an empty string, indicating unspecified data.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>





              <details class="quote">
                <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
                <pre class="highlight"><code class="language-python">@dataclass
class YAMLRefractiveIndexData:
    """
    A dataclass representing refractive index data in YAML format.

    Attributes:
        data_type (str): The type of refractive index data, such as 'tabulated', 'formula', etc.
        wavelength_range (str, optional): The range of wavelengths for which the data is valid.
            Default is an empty string, indicating unspecified range.
        coefficients (str, optional): A string containing coefficients or formula details for formula-based data.
            Default is an empty string, indicating unspecified coefficients.
        data (str, optional): A string containing the actual data in YAML format.
            Default is an empty string, indicating unspecified data.
    """

    data_type: str
    wavelength_range: str = field(default="")
    coefficients: str = field(default="")
    data: str = field(default="")</code></pre>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.pyindexrepo.yaml_to_material" class="doc doc-heading">
            <code class="highlight language-python">yaml_to_material(filepath, lib_shelf, lib_book, lib_page, lib_name)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts RefractiveIndex.info YAML to Material</p>
<p>Reads a yaml file of the refractiveindex database and converts it to a Material object.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>filepath</code></b>
                  (<code>str | <span title="pathlib.Path">Path</span></code>)
              –
              <div class="doc-md-description">
                <p>path to yaml file</p>
              </div>
            </li>
            <li>
              <b><code>lib_shelf</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>RefractiveIndex.info shelf name</p>
              </div>
            </li>
            <li>
              <b><code>lib_book</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>RefractiveIndex.info book name</p>
              </div>
            </li>
            <li>
              <b><code>lib_page</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>RefractiveIndex.info page name</p>
              </div>
            </li>
            <li>
              <b><code>lib_name</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>RefractiveIndex.info material name</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><a class="autorefs autorefs-internal" title="pyindexrepo.pyindexrepo.Material" href="#pyindexrepo.pyindexrepo.Material">Material</a></code>
              –
              <div class="doc-md-description">
                <p>Material object</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>pyindexrepo/pyindexrepo.py</code></summary>
              <pre class="highlight"><code class="language-python">def yaml_to_material(
    filepath: str | Path, lib_shelf: str, lib_book: str, lib_page: str, lib_name: str
) -&gt; Material:
    """Converts RefractiveIndex.info YAML to Material

    Reads a yaml file of the refractiveindex database and converts it to a Material object.

    Args:
        filepath: path to yaml file
        lib_shelf: RefractiveIndex.info shelf name
        lib_book: RefractiveIndex.info book name
        lib_page: RefractiveIndex.info page name
        lib_name: RefractiveIndex.info material name

    Returns:
        Material object
    """
    if isinstance(filepath, str):
        filepath = Path(filepath)

    def fill_variables_from_data_dict(data):
        """Helper function to split data in yaml into Material attributes"""
        data_type = data["type"]
        _wl_min = _wl_max = _wl = _n = _k = _coefficients = _formula = None
        if data_type == "tabulated nk":
            _wl, _n, _k = np.loadtxt(data["data"].split("\n")).T
            _wl_min = np.min(_wl)
            _wl_max = np.max(_wl)
        elif data_type == "tabulated n":
            (
                _wl,
                _n,
            ) = np.loadtxt(data["data"].split("\n")).T
            _wl_min = np.min(_wl)
            _wl_max = np.max(_wl)
        elif data_type == "tabulated k":
            (
                _wl,
                _k,
            ) = np.loadtxt(data["data"].split("\n")).T
            _wl_min = np.min(_wl)
            _wl_max = np.max(_wl)
        elif "formula" in data_type:
            _wl_range = data.get("wavelength_range") or data.get("range")
            _wl_min, _wl_max = _wl_range if _wl_range is not None else None, None
            _coefficients = np.array([float(c) for c in data["coefficients"].split()])
            _formula = data["type"].split()[1]
        # else:
        #     logger.warning(f"Could not convert YAML data for datatype {data_type}")
        return _wl, _wl_min, _wl_max, _n, _k, _coefficients, _formula

    with open(filepath) as f:
        n_class = k_class = None
        try:
            d = yaml.safe_load(f)

            # fill core data from yaml file
            (
                wl_n,
                wl_min_n,
                wl_max_n,
                n,
                k,
                coefficients,
                formula,
            ) = fill_variables_from_data_dict(d["DATA"][0])
            if formula:
                n_class = FormulaIndexData(
                    getattr(dispersion_formulas, f"formula_{formula}"),
                    coefficients,
                    wl_min_n,
                    wl_max_n,
                )
            elif n is not None:
                n_class = TabulatedIndexData(wl_n, n, True, True)

            (
                wl_k,
                wl_min_k,
                wl_max_k,
                _,
                k,
                coefficients_k,
                formula_k,
            ) = fill_variables_from_data_dict(next(iter(d["DATA"][1:2]), {"type": ""}))
            if formula_k:
                k_class = FormulaIndexData(
                    getattr(dispersion_formulas, f"formula_{formula}"),
                    coefficients_k,
                    wl_min_k,
                    wl_max_k,
                )
            elif k is not None:
                k_class = TabulatedIndexData(wl_k, k, True, True)

            # fill additional spec data if present
            specs = d.get("SPECS", None)
            if specs is not None:
                logger.debug(specs)
                specs = Specs.read_specs_from_yaml(specs)
        except ScannerError:
            print(f"data in {filepath} can not be read")
        except ValueError:
            print(f"data in {filepath} can not be read due to bad data")

    return Material(
        n_class,
        k_class,
        specs,
        YAMLLibraryData(
            lib_name, yaml.dump(d), lib_shelf, lib_book, lib_page, filepath
        ),
    )</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div><p>rendering:
show_root_toc_entry: true
show_source: false</p>


<div class="doc doc-object doc-module">



<a id="pyindexrepo.dispersion_formulas"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.absolute_to_relative" class="doc doc-heading">
            <code class="highlight language-python">absolute_to_relative(n_abs, wl, T=20.0, P=0.10133)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts absolute refractive index to relative</p>
<p>Formula (5) of TIE-19</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_abs</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>absolute refractive index.</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength [micron]</p>
              </div>
            </li>
            <li>
              <b><code>T</code></b>
                  (<code>float</code>, default:
                      <code>20.0</code>
)
              –
              <div class="doc-md-description">
                <p>Temperature [°Celsius] of absolute data</p>
              </div>
            </li>
            <li>
              <b><code>P</code></b>
                  (<code>float</code>, default:
                      <code>0.10133</code>
)
              –
              <div class="doc-md-description">
                <p>Pressure [MPa]</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def absolute_to_relative(
    n_abs: float | np.ndarray,
    wl: float | np.ndarray,
    T: float = 20.0,
    P: float = 0.10133,
):
    """Converts absolute refractive index to relative

    Formula (5) of TIE-19

    Args:
        n_abs: absolute refractive index.
        wl: wavelength [micron]
        T: Temperature [°Celsius] of absolute data
        P: Pressure [MPa]

    Returns:

    """
    return n_abs / n_air(wl, T, P)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.delta_absolute_temperature" class="doc doc-heading">
            <code class="highlight language-python">delta_absolute_temperature(n_abs_ref, wl, dT, D0, D1, D2, E0, E1, w_tk)</code>

</h2>


    <div class="doc doc-contents ">

        <p>deltaT of absolute refractive index at certain Temperature</p>
<p>Returns the temperature coefficient of the absolute refractive index for given wavelength and temperature
Formula (3) of Schott TIE-19</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_abs_ref</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>absolute refractive index at reference temperature</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength in vacuum [micron]</p>
              </div>
            </li>
            <li>
              <b><code>dT</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>temperature difference between reference and actual temperature</p>
              </div>
            </li>
            <li>
              <b><code>D0</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>D1</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>D2</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>E0</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>E1</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>w_tk</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def delta_absolute_temperature(
    n_abs_ref: float | np.ndarray,
    wl: float | np.ndarray,
    dT: float,
    D0: float,
    D1: float,
    D2: float,
    E0: float,
    E1: float,
    w_tk: float,
):
    """deltaT of absolute refractive index at certain Temperature

    Returns the temperature coefficient of the absolute refractive index for given wavelength and temperature
    Formula (3) of Schott TIE-19

    Args:
        n_abs_ref: absolute refractive index at reference temperature
        wl: wavelength in vacuum [micron]
        dT: temperature difference between reference and actual temperature
        D0: constant depending on material
        D1: constant depending on material
        D2: constant depending on material
        E0: constant depending on material
        E1: constant depending on material
        w_tk: constant depending on material

    Returns:

    """
    return (
        (n_abs_ref**2 - 1.0)
        / (2.0 * n_abs_ref)
        * (
            D0 * dT
            + D1 * dT**2
            + D2 * dT**3
            + (E0 * dT + E1 * dT**2) / (wl**2 - w_tk**2)
        )
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.dn_absolute_temperature" class="doc doc-heading">
            <code class="highlight language-python">dn_absolute_temperature(n_abs_ref, wl, dT, D0, D1, D2, E0, E1, w_tk)</code>

</h2>


    <div class="doc doc-contents ">

        <p>dn/dT of absolute refractive index at certain Temperature</p>
<p>Returns the temperature coefficient of the absolute refractive index for given wavelength and temperature
Formula (2) of Schott TIE-19</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_abs_ref</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>absolute refractive index at reference temperature</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength in vacuum [micron]</p>
              </div>
            </li>
            <li>
              <b><code>dT</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>temperature difference between reference and actual temperature</p>
              </div>
            </li>
            <li>
              <b><code>D0</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>D1</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>D2</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>E0</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>E1</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
            <li>
              <b><code>w_tk</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>constant depending on material</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def dn_absolute_temperature(
    n_abs_ref: float | np.ndarray,
    wl: float | np.ndarray,
    dT: float,
    D0: float,
    D1: float,
    D2: float,
    E0: float,
    E1: float,
    w_tk: float,
):
    """dn/dT of absolute refractive index at certain Temperature

    Returns the temperature coefficient of the absolute refractive index for given wavelength and temperature
    Formula (2) of Schott TIE-19

    Args:
        n_abs_ref: absolute refractive index at reference temperature
        wl: wavelength in vacuum [micron]
        dT: temperature difference between reference and actual temperature
        D0: constant depending on material
        D1: constant depending on material
        D2: constant depending on material
        E0: constant depending on material
        E1: constant depending on material
        w_tk: constant depending on material

    Returns:

    """
    return (
        (n_abs_ref**2 - 1.0)
        / (2.0 * n_abs_ref)
        * (
            D0
            + 2.0 * D1 * dT
            + 3 * D2 * dT**2
            + ((E0 + 2 * E1 * dT) / (wl**2 - w_tk**2))
        )
    )</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.dn_dt_air" class="doc doc-heading">
            <code class="highlight language-python">dn_dt_air(wl, T, P)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Temperature coefficient dn/dT of air</p>
<p>Calculates the temperature dependence of the refractive index of air as given in Schott's TIE 19:
Formula (10) of TIE-19
https://www.schott.com/en-gb/products/optical-glass-p1000267/downloads</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength</p>
              </div>
            </li>
            <li>
              <b><code>T</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>air temperature [°Celsius]</p>
              </div>
            </li>
            <li>
              <b><code>P</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>air pressure [MPa]</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              –
              <div class="doc-md-description">
                <p>dn/dT of air</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def dn_dt_air(wl: float | np.ndarray, T: float, P: float):
    """Temperature coefficient dn/dT of air

    Calculates the temperature dependence of the refractive index of air as given in Schott's TIE 19:
    Formula (10) of TIE-19
    https://www.schott.com/en-gb/products/optical-glass-p1000267/downloads

    Args:
        wl: wavelength
        T: air temperature [°Celsius]
        P: air pressure [MPa]

    Returns:
        dn/dT of air
    """
    return -0.00367 * (n_air(wl, T, P) - 1.0) / (1.0 + 0.00367 * T)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_1" class="doc doc-heading">
            <code class="highlight language-python">formula_1(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Sellmeier (preferred) dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_1(wavelength, coefficients):
    """Sellmeier (preferred) dispersion formula"""
    nsq = np.ones_like(wavelength) + coefficients[0]
    for i in range(1, len(coefficients), 2):
        nsq = nsq + formula_1_helper(wavelength, coefficients[i], coefficients[i + 1])
    return np.sqrt(nsq)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_2" class="doc doc-heading">
            <code class="highlight language-python">formula_2(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Sellmeier-2 dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_2(wavelength, coefficients):
    """Sellmeier-2 dispersion formula"""
    nsq = np.ones_like(wavelength) + coefficients[0]
    for i in range(1, len(coefficients), 2):
        nsq = nsq + formula_2_helper(wavelength, coefficients[i], coefficients[i + 1])
    return np.sqrt(nsq)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_3" class="doc doc-heading">
            <code class="highlight language-python">formula_3(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Polynomial dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_3(wavelength, coefficients):
    """Polynomial dispersion formula"""
    nsq = np.ones_like(wavelength) * coefficients[0]
    for i in range(1, len(coefficients), 2):
        nsq = nsq + formula_3457_helper(
            wavelength, coefficients[i], coefficients[i + 1]
        )
    return np.sqrt(nsq)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_4" class="doc doc-heading">
            <code class="highlight language-python">formula_4(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>RefractiveIndex.INFO dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_4(wavelength, coefficients):
    """RefractiveIndex.INFO dispersion formula"""
    nsq = np.zeros_like(wavelength) + coefficients[0]
    for i in range(1, min(9, len(coefficients)), 4):
        nsq = nsq + formula_4_helper1(
            wavelength,
            coefficients[i],
            coefficients[i + 1],
            coefficients[i + 2],
            coefficients[i + 3],
        )
    if len(coefficients) &gt; 8:
        for i in range(9, len(coefficients), 2):
            nsq = nsq + formula_3457_helper(
                wavelength, coefficients[i], coefficients[i + 1]
            )
    return np.sqrt(nsq)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_5" class="doc doc-heading">
            <code class="highlight language-python">formula_5(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Cauchy dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_5(wavelength, coefficients):
    """Cauchy dispersion formula"""
    n = np.zeros_like(wavelength) + coefficients[0]
    for i in range(1, len(coefficients), 2):
        n = n + formula_3457_helper(wavelength, coefficients[i], coefficients[i + 1])
    return n</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_6" class="doc doc-heading">
            <code class="highlight language-python">formula_6(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Gases dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_6(wavelength, coefficients):
    """Gases dispersion formula"""
    n = np.ones_like(wavelength) + coefficients[0]
    for i in range(1, len(coefficients), 2):
        n = n + formula_6_helper(wavelength, coefficients[i], coefficients[i + 1])
    return n</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.formula_7" class="doc doc-heading">
            <code class="highlight language-python">formula_7(wavelength, coefficients)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Herzberger dispersion formula</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(
    [
        float64(float64, float64[:]),
        float64[:](float64[:], float64[:]),
    ],
    cache=True,
)
def formula_7(wavelength, coefficients):
    """Herzberger dispersion formula"""
    n = np.zeros_like(wavelength) + coefficients[0]
    n = n + formula_7_helper1(wavelength, coefficients[1], 1)
    n = n + formula_7_helper1(wavelength, coefficients[2], 2)
    for i in range(3, len(coefficients)):
        n = n + formula_3457_helper(wavelength, coefficients[i], float64(2 * (i - 2)))
    return n</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.n_absolute_with_given_dndt" class="doc doc-heading">
            <code class="highlight language-python">n_absolute_with_given_dndt(n_rel, wl, dT, coefficient)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Calculates absolute refractive index with given dn/dT</p>
<p>Formula (6) of TIE-19</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_rel</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>relative refractive index</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength [micron]</p>
              </div>
            </li>
            <li>
              <b><code>dT</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>temperature difference [°Celsius]</p>
              </div>
            </li>
            <li>
              <b><code>coefficient</code></b>
                  (<code>float</code>)
              –
              <div class="doc-md-description">
                <p>dn/dT</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def n_absolute_with_given_dndt(
        n_rel: float | np.ndarray, wl: float | np.ndarray, dT: float, coefficient: float
):
    """Calculates absolute refractive index with given dn/dT

    Formula (6) of TIE-19

    Args:
        n_rel: relative refractive index
        wl: wavelength [micron]
        dT: temperature difference [°Celsius]
        coefficient: dn/dT

    Returns:

    """
    return n_rel + coefficient * dT</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.n_air" class="doc doc-heading">
            <code class="highlight language-python">n_air(wl, T=20.0, P=0.10133)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Refractive index of air</p>
<p>Calculates the refractive index of air as described in Schott TIE 19:
Formula (8) of TIE 19
https://www.schott.com/en-gb/products/optical-glass-p1000267/downloads</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength</p>
              </div>
            </li>
            <li>
              <b><code>T</code></b>
                  (<code>float</code>, default:
                      <code>20.0</code>
)
              –
              <div class="doc-md-description">
                <p>air temperature [°Celsius]</p>
              </div>
            </li>
            <li>
              <b><code>P</code></b>
                  (<code>float</code>, default:
                      <code>0.10133</code>
)
              –
              <div class="doc-md-description">
                <p>air pressure [MPa]</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              –
              <div class="doc-md-description">
                <p>refractive index of air</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def n_air(wl: float | np.ndarray, T: float = 20.0, P: float = 0.10133):
    """Refractive index of air

    Calculates the refractive index of air as described in Schott TIE 19:
    Formula (8) of TIE 19
    https://www.schott.com/en-gb/products/optical-glass-p1000267/downloads

    Args:
        wl: wavelength
        T: air temperature [°Celsius]
        P: air pressure [MPa]

    Returns:
        refractive index of air
    """
    n_air_ref = 1.0 + 1e-8 * (
        6432.8
        + (2949810.0 * wl**2) / (146.0 * wl**2 - 1.0)
        + (25540.0 * wl**2) / (41.0 * wl**2 - 1.0)
    )
    return 1.0 + (n_air_ref - 1.0) / (1.0 + 3.4785e-3 * (T - 15.0)) * (P / 0.10133)</code></pre>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pyindexrepo.dispersion_formulas.relative_to_absolute" class="doc doc-heading">
            <code class="highlight language-python">relative_to_absolute(n_rel, wl, T=20.0, P=0.10133)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts relative refractive index to absolute</p>
<p>Reverse of Formula (5) of TIE-19</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>n_rel</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>relative refractive index</p>
              </div>
            </li>
            <li>
              <b><code>wl</code></b>
                  (<code>float | <span title="numpy.ndarray">ndarray</span></code>)
              –
              <div class="doc-md-description">
                <p>wavelength [micron]</p>
              </div>
            </li>
            <li>
              <b><code>T</code></b>
                  (<code>float</code>, default:
                      <code>20.0</code>
)
              –
              <div class="doc-md-description">
                <p>Temperature [°Celsius]</p>
              </div>
            </li>
            <li>
              <b><code>P</code></b>
                  (<code>float</code>, default:
                      <code>0.10133</code>
)
              –
              <div class="doc-md-description">
                <p>Pressure [MPa]</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>pyindexrepo/dispersion_formulas.py</code></summary>
              <pre class="highlight"><code class="language-python">@njit(cache=True)
def relative_to_absolute(
    n_rel: float | np.ndarray,
    wl: float | np.ndarray,
    T: float = 20.0,
    P: float = 0.10133,
):
    """Converts relative refractive index to absolute

    Reverse of Formula (5) of TIE-19

    Args:
        n_rel: relative refractive index
        wl: wavelength [micron]
        T: Temperature [°Celsius]
        P: Pressure [MPa]

    Returns:

    """
    return n_rel * n_air(wl, T, P)</code></pre>
            </details>
    </div>

</div>



  </div>

    </div>

</div><p>rendering:
show_root_toc_entry: true
show_source: false</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
